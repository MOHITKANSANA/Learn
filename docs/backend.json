
{
  "entities": {
    "Course": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Course",
      "type": "object",
      "description": "Represents a course offered on the platform.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the course." },
        "title": { "type": "string", "description": "Title of the course." },
        "description": { "type": "string", "description": "Description of the course." },
        "price": { "type": "number", "description": "Price of the course." },
        "imageUrl": { "type": "string", "description": "URL of the course image." },
        "isFree": { "type": "boolean", "description": "Indicates if the course is free." },
        "videos": {
          "type": "array",
          "description": "List of videos in the course.",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": "string" },
              "title": { "type": "string" },
              "url": { "type": "string" }
            },
            "required": ["id", "title", "url"]
          }
        },
        "notes": {
          "type": "array",
          "description": "List of notes (PDFs) in the course.",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": "string" },
              "title": { "type": "string" },
              "url": { "type": "string" }
            },
            "required": ["id", "title", "url"]
          }
        },
        "tests": {
          "type": "array",
          "description": "List of test series associated with the course.",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": "string" },
              "title": { "type": "string" }
            },
            "required": ["id", "title"]
          }
        }
      },
      "required": ["id", "title", "description", "price", "imageUrl", "isFree"]
    },
    "EBook": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "EBook",
      "type": "object",
      "description": "Represents an e-book available on the platform.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the e-book." },
        "title": { "type": "string", "description": "Title of the e-book." },
        "description": { "type": "string", "description": "Description of the e-book." },
        "price": { "type": "number", "description": "Price of the e-book." },
        "fileUrl": { "type": "string", "description": "URL of the e-book file." },
        "imageUrl": { "type": "string", "description": "URL of the e-book image." },
        "isFree": { "type": "boolean", "description": "Indicates if the e-book is free." }
      },
      "required": ["id", "title", "description", "price", "fileUrl", "imageUrl", "isFree"]
    },
    "TestSeries": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "TestSeries",
      "type": "object",
      "description": "Represents a test series available on the platform.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "price": { "type": "number" },
        "isFree": { "type": "boolean" },
        "imageUrl": { "type": "string" },
        "isStandalone": { "type": "boolean" },
        "courseId": { "type": "string" },
        "questions": { 
          "type": "array", 
          "items": {
            "$ref": "#/entities/Question"
          } 
        }
      },
      "required": ["id", "title", "description", "price", "isFree", "imageUrl", "isStandalone"]
    },
    "Question": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Question",
      "type": "object",
      "description": "Represents a question within a test series.",
      "properties": {
        "id": { "type": "string" },
        "text": { "type": "string" },
        "options": { 
          "type": "array", 
          "items": { 
            "type": "object",
            "properties": {
              "text": { "type": "string" },
              "isCorrect": { "type": "boolean" }
            },
            "required": ["text", "isCorrect"]
          } 
        }
      },
      "required": ["id", "text", "options"]
    },
    "Educator": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Educator",
      "type": "object",
      "description": "Represents an educator on the platform.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "imageUrl": { "type": "string" },
        "experience": { "type": "number" },
        "subject": { "type": "string" },
        "description": { "type": "string" }
      },
      "required": ["id", "name", "imageUrl", "experience", "subject", "description"]
    },
    "LiveClass": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "LiveClass",
      "type": "object",
      "description": "Represents a live class scheduled on the platform.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "startTime": { "type": "string", "format": "date-time" },
        "educatorId": { "type": "string" },
        "youtubeUrl": { "type": "string" }
      },
      "required": ["id", "title", "startTime", "educatorId", "youtubeUrl"]
    },
    "Enrollment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Enrollment",
      "type": "object",
      "description": "Represents a student's enrollment in a course, test series, or ebook.",
      "properties": {
        "id": { "type": "string" },
        "studentId": { "type": "string" },
        "itemId": { "type": "string" },
        "itemType": { "type": "string", "enum": ["course", "ebook", "testSeries", "previous-year-paper"] },
        "enrollmentDate": { "type": "string", "format": "date-time" },
        "paymentScreenshotUrl": { "type": "string" },
        "transactionId": { "type": "string" },
        "isApproved": { "type": "boolean" }
      },
      "required": ["id", "studentId", "itemId", "itemType", "enrollmentDate"]
    },
    "Student": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Student",
      "type": "object",
      "description": "Represents a student using the platform.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "profileImageUrl": { "type": "string" }
      },
      "required": ["id", "name", "email"]
    },
    "Promotion": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Promotion",
      "type": "object",
      "description": "Represents a promotion displayed in the promotion scroller.",
      "properties": {
        "id": { "type": "string" },
        "text": { "type": "string" },
        "link": { "type": "string", "format": "uri" },
        "startDate": { "type": "string", "format": "date-time" },
        "endDate": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "text", "link", "startDate", "endDate"]
    },
    "Book": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Book",
      "type": "object",
      "description": "Represents a physical book available for purchase.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "author": { "type": "string" },
        "description": { "type": "string" },
        "price": { "type": "number" },
        "verificationCharge": { "type": "number" },
        "imageUrl": { "type": "string" }
      },
      "required": ["id", "title", "author", "description", "price", "verificationCharge", "imageUrl"]
    },
    "BookOrder": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "BookOrder",
      "type": "object",
      "description": "Represents an order for a physical book.",
      "properties": {
        "id": { "type": "string" },
        "bookId": { "type": "string" },
        "studentId": { "type": "string" },
        "shippingAddress": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "address": { "type": "string" },
            "city": { "type": "string" },
            "state": { "type": "string" },
            "zipCode": { "type": "string" },
            "mobile": { "type": "string" }
          },
          "required": ["name", "address", "city", "state", "zipCode", "mobile"]
        },
        "status": { "type": "string", "enum": ["pending", "approved", "rejected", "shipped"] },
        "paymentScreenshotUrl": { "type": "string" },
        "transactionId": { "type": "string" },
        "orderDate": { "type": "string", "format": "date-time" },
        "tentativeDeliveryDate": { "type": "string", "format": "date" },
        "trackingLink": { "type": "string" }
      },
      "required": ["id", "bookId", "studentId", "shippingAddress", "status", "orderDate"]
    },
    "Coupon": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Coupon",
      "type": "object",
      "description": "Represents a discount coupon.",
      "properties": {
        "id": { "type": "string" },
        "code": { "type": "string" },
        "discountType": { "type": "string", "enum": ["percentage", "fixed"] },
        "discountValue": { "type": "number" },
        "expiryDate": { "type": "string", "format": "date-time" },
        "maxUses": { "type": "number" },
        "usedCount": { "type": "number" }
      },
      "required": ["id", "code", "discountType", "discountValue", "expiryDate", "maxUses", "usedCount"]
    },
     "PreviousYearPaper": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PreviousYearPaper",
      "type": "object",
      "description": "Represents a previous year question paper.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "price": { "type": "number" },
        "isFree": { "type": "boolean" },
        "fileUrl": { "type": "string" },
        "imageUrl": { "type": "string" }
      },
      "required": ["id", "title", "description", "price", "isFree", "fileUrl", "imageUrl"]
    },
    "FeedPost": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FeedPost",
      "type": "object",
      "description": "Represents a post in the user feed.",
      "properties": {
        "id": { "type": "string" },
        "authorId": { "type": "string" },
        "authorName": { "type": "string" },
        "authorImage": { "type": "string" },
        "content": { "type": "string" },
        "imageUrl": { "type": "string" },
        "type": { "type": "string", "enum": ["post", "poll", "qa"], "default": "post" },
        "pollOptions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": { "text": { "type": "string" }, "votes": { "type": "number" } },
            "required": ["text", "votes"]
          }
        },
        "likes": { "type": "array", "items": { "type": "string" } },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "authorId", "authorName", "createdAt"]
    },
    "Note": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Note",
      "type": "object",
      "description": "Represents a user's personal note on a video.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "courseId": { "type": "string" },
        "videoId": { "type": "string" },
        "content": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" },
        "updatedAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "userId", "courseId", "videoId", "content", "createdAt"]
    },
    "ChatMessage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ChatMessage",
      "type": "object",
      "description": "Represents a chat message in a video session.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "authorName": { "type": "string" },
        "authorImage": { "type": "string" },
        "videoId": { "type": "string" },
        "text": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "userId", "authorName", "videoId", "text", "createdAt"]
    },
    "Settings": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Settings",
      "type": "object",
      "description": "Represents application-wide settings.",
      "properties": {
        "qrCodeImageUrl": { "type": "string" },
        "mobileNumber": { "type": "string" },
        "upiId": { "type": "string" }
      }
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/courses/{courseId}",
        "definition": {
          "entityName": "Course",
          "schema": { "$ref": "#/backend/entities/Course" }
        }
      },
      {
        "path": "/ebooks/{ebookId}",
        "definition": {
          "entityName": "EBook",
          "schema": { "$ref": "#/backend/entities/EBook" }
        }
      },
      {
        "path": "/test_series/{testSeriesId}",
        "definition": {
          "entityName": "TestSeries",
          "schema": { "$ref": "#/backend/entities/TestSeries" }
        }
      },
      {
        "path": "/questions/{questionId}",
        "definition": {
          "entityName": "Question",
          "schema": { "$ref": "#/backend/entities/Question" }
        }
      },
      {
        "path": "/educators/{educatorId}",
        "definition": {
          "entityName": "Educator",
          "schema": { "$ref": "#/backend/entities/Educator" }
        }
      },
      {
        "path": "/live_classes/{liveClassId}",
        "definition": {
          "entityName": "LiveClass",
          "schema": { "$ref": "#/backend/entities/LiveClass" }
        }
      },
      {
        "path": "/users/{studentId}",
        "definition": {
          "entityName": "Student",
          "schema": { "$ref": "#/backend/entities/Student" }
        }
      },
      {
        "path": "/promotions/{promotionId}",
        "definition": {
          "entityName": "Promotion",
          "schema": { "$ref": "#/backend/entities/Promotion" }
        }
      },
      {
        "path": "/enrollments/{enrollmentId}",
        "definition": {
          "entityName": "Enrollment",
          "schema": { "$ref": "#/backend/entities/Enrollment" }
        }
      },
      {
        "path": "/books/{bookId}",
        "definition": {
          "entityName": "Book",
          "schema": { "$ref": "#/backend/entities/Book" }
        }
      },
      {
        "path": "/bookOrders/{orderId}",
        "definition": {
          "entityName": "BookOrder",
          "schema": { "$ref": "#/backend/entities/BookOrder" }
        }
      },
      {
        "path": "/coupons/{couponId}",
        "definition": {
          "entityName": "Coupon",
          "schema": { "$ref": "#/backend/entities/Coupon" }
        }
      },
      {
        "path": "/previousYearPapers/{paperId}",
        "definition": {
          "entityName": "PreviousYearPaper",
          "schema": { "$ref": "#/backend/entities/PreviousYearPaper" }
        }
      },
      {
        "path": "/feed_posts/{postId}",
        "definition": {
          "entityName": "FeedPost",
          "schema": { "$ref": "#/backend/entities/FeedPost" }
        }
      },
       {
        "path": "/video_notes/{noteId}",
        "definition": {
          "entityName": "Note",
          "schema": { "$ref": "#/backend/entities/Note" }
        }
      },
      {
        "path": "/video_chat/{chatId}",
        "definition": {
          "entityName": "ChatMessage",
          "schema": { "$ref": "#/backend/entities/ChatMessage" }
        }
      },
      {
        "path": "/settings/payment",
        "definition": {
            "entityName": "Settings",
            "schema": { "$ref": "#/backend/entities/Settings" }
        }
      }
    ]
  }
}
